<Window x:Class="Client.AddGroupWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gal-Chat" 
        Height="400" 
        Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Background="#F5F5F5">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 搜索区域 -->
        <Border Grid.Row="0" 
                Background="White" 
                CornerRadius="5" 
                Padding="10"
                Margin="0 0 0 10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 搜索框 -->
                <TextBox x:Name="txtSearchGroup" 
                         Grid.Column="0"
                         Height="35"
                         Padding="10"
                         FontSize="14"
                         VerticalContentAlignment="Center">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="BorderThickness" Value="1"/>
                            <Setter Property="BorderBrush" Value="#E0E0E0"/>
                            <Setter Property="Background" Value="White"/>
                            <Style.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Setter Property="BorderBrush" Value="#0078D7"/>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </TextBox.Style>
                </TextBox>

                <!-- 搜索按钮 -->
                <Button Grid.Column="1" 
                        x:Name="btnSearchGroup" 
                        Content="搜索" 
                        Margin="10 0 0 0"
                        Width="80"
                        Height="35"
                        Background="#0078D7"
                        Foreground="White"
                        BorderThickness="0"
                        FontSize="14"
                        FontWeight="Medium"/>
            </Grid>
        </Border>

        <!-- 搜索结果列表 -->
        <Border Grid.Row="1" 
                Background="White" 
                CornerRadius="5">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- 标题 -->
                <Border Grid.Row="0" 
                        Background="#F8F9FA" 
                        BorderThickness="0 0 0 1"
                        BorderBrush="#E0E0E0">
                    <Grid Height="40">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="120"/>
                            <ColumnDefinition Width="80"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0" 
                                   Text="群聊名称" 
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="#333333"
                                   VerticalAlignment="Center"
                                   Margin="15 0 0 0"/>

                        <TextBlock Grid.Column="1" 
                                   Text="成员数量" 
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="#333333"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>

                        <TextBlock Grid.Column="2" 
                                   Text="操作" 
                                   FontSize="14"
                                   FontWeight="Medium"
                                   Foreground="#333333"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- 群聊列表 -->
                <ScrollViewer Grid.Row="1" 
                              VerticalScrollBarVisibility="Auto">
                    <ItemsControl x:Name="listSearchResults" 
                                  Margin="0">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#F0F0F0" 
                                        BorderThickness="0 0 0 1">
                                    <Grid Height="50">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="120"/>
                                            <ColumnDefinition Width="80"/>
                                        </Grid.ColumnDefinitions>

                                        <!-- 群聊信息 -->
                                        <Grid Grid.Column="0" 
                                              VerticalAlignment="Center"
                                              Margin="15 0 0 0">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" 
                                                       Text="{Binding Name}" 
                                                       FontSize="14"
                                                       FontWeight="Medium"
                                                       Foreground="#333333"/>

                                            <TextBlock Grid.Row="1" 
                                                       Text="{Binding Description}" 
                                                       FontSize="12"
                                                       Foreground="#999999"
                                                       Margin="0 2 0 0"/>
                                        </Grid>

                                        <!-- 成员数量 -->
                                        <TextBlock Grid.Column="1" 
                                                   Text="{Binding MemberCount}" 
                                                   FontSize="14"
                                                   Foreground="#666666"
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"/>

                                        <!-- 加入按钮 -->
                                        <Button Grid.Column="2" 
                                                Content="加入" 
                                                Tag="{Binding Id}"
                                                Width="60"
                                                Height="30"
                                                Background="#0078D7"
                                                Foreground="White"
                                                BorderThickness="0"
                                                FontSize="12"
                                                FontWeight="Medium"
                                                Cursor="Hand">
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Background" Value="#0078D7"/>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#0056A3"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Button.Style>
                                        </Button>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </ScrollViewer>
            </Grid>
        </Border>

        <!-- 底部按钮 -->
        <StackPanel Grid.Row="2" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0 10 0 0">
            <Button x:Name="btnCreateGroup" 
                    Content="创建群聊" 
                    Width="100"
                    Height="35"
                    Background="#28A745"
                    Foreground="White"
                    BorderThickness="0"
                    FontSize="14"
                    FontWeight="Medium"
                    Margin="0 0 10 0"
                    Cursor="Hand"/>

            <Button x:Name="btnCancel" 
                    Content="返回" 
                    Width="100"
                    Height="35"
                    Background="#6C757D"
                    Foreground="White"
                    BorderThickness="0"
                    FontSize="14"
                    FontWeight="Medium"
                    Cursor="Hand" Click="btnCancel_Click"/>
        </StackPanel>
    </Grid>
</Window>